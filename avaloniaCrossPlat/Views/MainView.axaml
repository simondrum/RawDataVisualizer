<UserControl
  x:Class="avaloniaCrossPlat.Views.MainView"
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:controls="using:avaloniaCrossPlat.Controls"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:vm="using:avaloniaCrossPlat.ViewModels"
  d:DesignHeight="450"
  d:DesignWidth="800"
  x:DataType="vm:MainViewModel"
  Background="#001219"
  mc:Ignorable="d">
  <Design.DataContext>
    <!--
      This only sets the DataContext for the previewer in an IDE,
      to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs)
    -->
    <vm:MainViewModel />
  </Design.DataContext>
  <Grid RowDefinitions="Auto,Auto,*">
    <ProgressBar
      Grid.Row="0"
      Height="10"
      Margin="0,8,0,0"
      IsVisible="{CompiledBinding IsDataValid}"
      Maximum="100"
      Minimum="0"
      Value="{CompiledBinding RefreshProgress}">

      <ProgressBar.Transitions>
        <Transitions>
          <DoubleTransition
            Easing="CubicEaseOut"
            Property="Value"
            Duration="0:0:0.2" />
        </Transitions>
      </ProgressBar.Transitions>
    </ProgressBar>
    <controls:KeyPadView Grid.Row="2" Code="{CompiledBinding Code, Mode=TwoWay}">
      <controls:KeyPadView.IsVisible>
        <MultiBinding Converter="{x:Static BoolConverters.And}">
          <Binding Path="!Error" />
          <Binding Path="!IsDataValid" />
        </MultiBinding>
      </controls:KeyPadView.IsVisible>
    </controls:KeyPadView>
    <Grid
      Grid.Row="1"
      Grid.Column="0"
      Grid.ColumnSpan="2"
      HorizontalAlignment="Stretch"
      VerticalAlignment="Stretch"
      ColumnDefinitions="*,*"
      IsVisible="{CompiledBinding IsDataValid}"
      RowDefinitions="Auto,*">
      <Border
        Grid.Row="0"
        Margin="5"
        Grid.ColumnSpan="2"
        CornerRadius="10">
        <Grid
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          RowDefinitions="Auto,*">
          <Border
            Grid.Row="0"
            Padding="10,5,10,5"
            CornerRadius="10, 0">
            <TextBlock
              Foreground="White"
              Text="{Binding InOutViewModel.Title}"
              TextWrapping="Wrap" />
          </Border>
          <Grid Grid.Row="1" ColumnDefinitions="*,*,*">
            <TextBlock
              Grid.Column="0"
              MinHeight="30"
              Padding="10,0,0,0"
              FontSize="24"
              Text="{Binding InOutViewModel.InTemperature}" />
            <TextBlock
              Grid.Column="1"
              MinHeight="30"
              Padding="10,0,0,0"
              FontSize="24"
              Text="{Binding InOutViewModel.OutTemperature}" />
            <TextBlock
              Grid.Column="2"
              MinHeight="30"
              Padding="10,0,0,0"
              FontSize="24"
              Text="{Binding InOutViewModel.InstructionTemperature}" />
          </Grid>
        </Grid>
      </Border>
      <controls:DataControl
        Grid.Row="2"
        Grid.Column="0"
        Grid.ColumnSpan="2"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        ItemsSource="{CompiledBinding Data}" />
      <!-- <controls:DataControl
        Grid.Column="1"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        ItemsSource="{CompiledBinding DataPourcent}" />-->
    </Grid>
  </Grid>
</UserControl>
