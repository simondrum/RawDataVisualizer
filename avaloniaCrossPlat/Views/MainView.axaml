<UserControl
  x:Class="avaloniaCrossPlat.Views.MainView"
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:controls="using:avaloniaCrossPlat.Controls"
  xmlns:converters="using:avaloniaCrossPlat.Converters"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:vm="using:avaloniaCrossPlat.ViewModels"
  Margin="5"
  x:DataType="vm:MainViewModel"
  mc:Ignorable="d">
  <Design.DataContext>
    <!--
      This only sets the DataContext for the previewer in an IDE,
      to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs)
    -->
    <vm:MainViewModel />
  </Design.DataContext>

  <UserControl.Resources>
    <converters:BoxShadowConverter x:Key="BoxShadowConverter" />
    <converters:TrendToIconConverter x:Key="TrendToIconConverter" />

  </UserControl.Resources>

  <Grid
    Background="#333333"
    ColumnDefinitions="*"
    RowDefinitions="Auto,*">
    <ProgressBar
      Grid.Row="0"
      Height="10"
      Margin="5"
      IsVisible="{CompiledBinding IsDataValid}"
      Maximum="100"
      Minimum="0"
      Value="{CompiledBinding RefreshProgress}">

      <ProgressBar.Transitions>
        <Transitions>
          <DoubleTransition
            Easing="CubicEaseOut"
            Property="Value"
            Duration="0:0:0.2" />
        </Transitions>
      </ProgressBar.Transitions>
    </ProgressBar>
    <Grid
      Grid.Row="1"
      Margin="0,10,10,0"
      HorizontalAlignment="Stretch"
      VerticalAlignment="Stretch"
      ColumnDefinitions="*,*,*"
      RowDefinitions="*,*,*,*">
      <!--  Première ligne  -->
      <Border
        Grid.Row="0"
        Grid.Column="0"
        Margin="10,10,0,10"
        Background="{Binding InViewModel.ColorBrush}"
        BoxShadow="{Binding InViewModel.ColorTrendBrush}"
        CornerRadius="20">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="Intérieur" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding InViewModel.Value, StringFormat=' {0}°'}}" />
          <PathIcon
            Grid.Row="1"
            Width="20"
            Height="20"
            Margin="2"
            HorizontalAlignment="Right"
            Data="{Binding InViewModel.Trend, Converter={StaticResource TrendToIconConverter}}"
            Foreground="{Binding InViewModel.ColorTrend}" />
        </Grid>
      </Border>
      <Border
        Grid.Row="0"
        Grid.Column="1"
        Margin="10,10,0,10"
        Background="{Binding OutViewModel.ColorBrush}"
        BoxShadow="{Binding OutViewModel.ColorTrendBrush}"
        CornerRadius="20">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="Extérieur" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding OutViewModel.Value, StringFormat=' {0}°'}}" />
          <PathIcon
            Grid.Row="1"
            Width="20"
            Height="20"
            Margin="2"
            HorizontalAlignment="Right"
            Data="{Binding OutViewModel.Trend, Converter={StaticResource TrendToIconConverter}}"
            Foreground="{Binding OutViewModel.ColorTrend}" />
        </Grid>
      </Border>
      <Border
        Grid.Row="0"
        Grid.Column="2"
        Margin="10,10,0,10"
        Background="{Binding InstructionViewModel.ColorBrush}"
        BoxShadow="{Binding InstructionViewModel.ColorTrendBrush}"
        CornerRadius="20">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="Consigne" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding InstructionViewModel.Value}" />
        </Grid>
      </Border>
      <!--  Ballon  -->
      <Border
        Grid.Row="1"
        Grid.Column="0"
        Margin="10,10,0,0"
        Background="{Binding UpperHotWaterViewModel.ColorBrush}"
        BoxShadow="{Binding UpperHotWaterViewModel.ColorTrendBrush}"
        CornerRadius="20,20,0,0">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding UpperHotWaterViewModel.Value, StringFormat=' {0}°'}}" />
          <PathIcon
            Grid.Row="1"
            Width="20"
            Height="20"
            Margin="2"
            HorizontalAlignment="Right"
            Data="{Binding UpperHotWaterViewModel.Trend, Converter={StaticResource TrendToIconConverter}}"
            Foreground="{Binding UpperHotWaterViewModel.ColorTrend}" />
        </Grid>
      </Border>
      <Border
        Grid.Row="2"
        Grid.Column="0"
        Margin="10,0,0,0"
        Background="{Binding MidHotWaterViewModel.ColorBrush}"
        BoxShadow="{Binding MidHotWaterViewModel.ColorTrendBrush}"
        CornerRadius="00">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding MidHotWaterViewModel.Value, StringFormat=' {0}°'}}" />
          <PathIcon
            Grid.Row="1"
            Width="20"
            Height="20"
            Margin="2"
            HorizontalAlignment="Right"
            Data="{Binding MidHotWaterViewModel.Trend, Converter={StaticResource TrendToIconConverter}}"
            Foreground="{Binding MidHotWaterViewModel.ColorTrend}" />
        </Grid>
      </Border>
      <Border
        Grid.Row="3"
        Grid.Column="0"
        Margin="10,0,0,10"
        Background="{Binding LowHotWaterViewModel.ColorBrush}"
        BoxShadow="{Binding LowHotWaterViewModel.ColorTrendBrush}"
        CornerRadius="0,0,20,20">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding LowHotWaterViewModel.Value, StringFormat=' {0}°'}}" />
          <PathIcon
            Grid.Row="1"
            Width="20"
            Height="20"
            Margin="2"
            HorizontalAlignment="Right"
            Data="{Binding LowHotWaterViewModel.Trend, Converter={StaticResource TrendToIconConverter}}"
            Foreground="{Binding LowHotWaterViewModel.ColorTrend}" />
        </Grid>
      </Border>
      <!--  Poele  -->

      <Border
        Grid.Row="1"
        Grid.Column="1"
        Margin="10,10,0,10"
        Background="{Binding StoveViewModel.ColorBrush}"
        BoxShadow="{Binding StoveViewModel.ColorTrendBrush}"
        CornerRadius="20,0,0,20">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}" />
          <Border
            Grid.Row="0"
            Grid.RowSpan="4"
            Width="40"
            Height="80"
            Background="#bc2f32"
            CornerRadius="20"
            IsVisible="{CompiledBinding PompePoeleActivated}">
            <Border
              Width="30"
              Height="30"
              Margin="3"
              VerticalAlignment="Top"
              Background="#b3b3b3"
              CornerRadius="15" />
          </Border>
          <Border
            Grid.Row="0"
            Grid.RowSpan="4"
            Width="40"
            Height="80"
            Background="#3d3d3d"
            CornerRadius="20"
            IsVisible="{CompiledBinding !PompePoeleActivated}">
            <Border
              Width="30"
              Height="30"
              Margin="3"
              VerticalAlignment="Bottom"
              Background="#b3b3b3"
              CornerRadius="15" />
          </Border>
        </Grid>
      </Border>
      <Border
        Grid.Row="1"
        Grid.Column="2"
        Margin="0,10,00,10"
        Background="{Binding StoveViewModel.ColorBrush}"
        BoxShadow="{Binding StoveViewModel.ColorTrendBrush}"
        CornerRadius="0,20,20,0">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <controls:FireParticles
            HorizontalAlignment="Stretch"
            Grid.Row="0"
            Grid.RowSpan="4"
            Grid.ColumnSpan="3"
            Temperature="{CompiledBinding StoveViewModel.Value}"
            IsHitTestVisible="False" />
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="Poêle" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding StoveViewModel.Value, StringFormat=' {0}°'}}" />
          <PathIcon
            Grid.Row="1"
            Width="20"
            Height="20"
            Margin="2"
            HorizontalAlignment="Right"
            Data="{Binding StoveViewModel.Trend, Converter={StaticResource TrendToIconConverter}}"
            Foreground="{Binding StoveViewModel.ColorTrend}" />
        </Grid>
      </Border>
      <!--  Solaire  -->
      <Border
        Grid.Row="2"
        Grid.Column="1"
        Margin="10,10,0,10"
        Background="{Binding SolarPanelViewModel.ColorBrush}"
        BoxShadow="{Binding SolarPanelViewModel.ColorTrendBrush}"
        CornerRadius="20,0,0,20">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="" />
          <Border
            Grid.Row="0"
            Grid.RowSpan="4"
            Width="40"
            Height="80"
            Background="#bc2f32"
            CornerRadius="20"
            IsVisible="{CompiledBinding PompeSolaireActivated}">
            <Border
              Width="30"
              Height="30"
              Margin="3"
              VerticalAlignment="Top"
              Background="#b3b3b3"
              CornerRadius="15" />
          </Border>
          <Border
            Grid.Row="0"
            Grid.RowSpan="4"
            Width="40"
            Height="80"
            Background="#3d3d3d"
            CornerRadius="20"
            IsVisible="{CompiledBinding !PompeSolaireActivated}">
            <Border
              Width="30"
              Height="30"
              Margin="3"
              VerticalAlignment="Bottom"
              Background="#b3b3b3"
              CornerRadius="15" />
          </Border>
        </Grid>
      </Border>
      <Border
        Grid.Row="2"
        Grid.Column="2"
        Margin="0,10,0,10"
        Background="{Binding SolarPanelViewModel.ColorBrush}"
        BoxShadow="{Binding SolarPanelViewModel.ColorTrendBrush}"
        CornerRadius="0,20,20,0">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="Solaire" />
          <TextBlock
            Grid.Row="1"
            Margin="10"
            FontSize="22"
            FontWeight="Bold"
            Foreground="{StaticResource ForegroundTile}"
            Text="{CompiledBinding SolarPanelViewModel.Value, StringFormat=' {0}°'}}" />
          <PathIcon
            Grid.Row="1"
            Width="20"
            Height="20"
            Margin="2"
            HorizontalAlignment="Right"
            Data="{Binding SolarPanelViewModel.Trend, Converter={StaticResource TrendToIconConverter}}"
            Foreground="{Binding SolarPanelViewModel.ColorTrend}" />
        </Grid>
      </Border>
      <!--  Mur  -->
      <Border
        Grid.Row="3"
        Grid.Column="1"
        Margin="10,10,0,10"
        Background="{StaticResource BrushTile}"
        BoxShadow="7 7 3 0 #1f1f1f"
        CornerRadius="20,20">
        <Grid Margin="5" RowDefinitions="1*,2*,2*,1*">
          <TextBlock
            Grid.Row="0"
            Margin="10"
            FontSize="14"
            Foreground="{StaticResource ForegroundTile}"
            Text="Chauffage" />
          <Border
            Grid.Row="1"
            Grid.RowSpan="3"
            Width="40"
            Height="80"
            Background="#bc2f32"
            CornerRadius="20"
            IsVisible="{CompiledBinding PompeMurActivated}">
            <Border
              Width="30"
              Height="30"
              Margin="3"
              VerticalAlignment="Top"
              Background="#b3b3b3"
              CornerRadius="15" />
          </Border>
          <Border
            Grid.Row="1"
            Grid.RowSpan="3"
            Width="40"
            Height="80"
            Background="#3d3d3d"
            CornerRadius="20"
            IsVisible="{CompiledBinding !PompeMurActivated}">
            <Border
              Width="30"
              Height="30"
              Margin="3"
              VerticalAlignment="Bottom"
              Background="#b3b3b3"
              CornerRadius="15" />
          </Border>
        </Grid>
      </Border>
    </Grid>
    <Grid
      Grid.Row="1"
      HorizontalAlignment="Stretch"
      VerticalAlignment="Stretch"
      ColumnDefinitions="*,*"
      IsVisible="{CompiledBinding IsDataValid}" />
  </Grid>
</UserControl>
